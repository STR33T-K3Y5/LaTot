# Carousel Animation Implementation Plan

## Current State Analysis

### Files to Modify:
1. `src/pages/Home.jsx` - React component logic
2. `src/index.css` - CSS animations and transitions

### Current Implementation:
- Carousel shows 3 items: prev (peek), current (center), next (peek)
- Uses basic CSS transitions on transform properties
- Has direction state but not used for animation
- Transitions are abrupt, not smooth sliding

---

## Implementation Plan

### Phase 1: React Component Updates (Home.jsx)

#### 1.1 Add Animation State Management
```jsx
// Current states:
const [aboutCurrentIndex, setAboutCurrentIndex] = useState(0);
const [aboutDirection, setAboutDirection] = useState(null);

// New states to add:
const [aboutAnimating, setAboutAnimating] = useState(false);
const aboutItemsRef = useRef(null); // Already exists
```

#### 1.2 Update Navigation Handlers
- `nextAboutSlide()` - set direction to 'right', set animating to true
- `prevAboutSlide()` - set direction to 'left', set animating to true
- `goToAboutSlide()` - set direction based on index comparison
- Reset animation state after animation completes (500-700ms)

#### 1.3 Modify Item Rendering
Add CSS variables and data attributes:
```jsx
<div 
  className="about-item about-item-center"
  data-animating={aboutAnimating}
  data-direction={aboutDirection}
  style={{ '--item-index': 0, '--target-index': 0 }}
>
```

### Phase 2: CSS Updates (index.css)

#### 2.1 Base Carousel Structure
```css
.about-carousel {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow: visible; /* Changed from hidden to allow peek */
  position: relative;
}
```

#### 2.2 Item Base Styles
```css
#about-section .about-item {
  position: absolute; /* Changed from flex-shrink: 0 */
  width: 100%;
  max-width: 600px;
  transition: transform 0ms; /* Disable default transition during animation */
}
```

#### 2.3 Animation Classes (The Key Part)

**Default State (No Animation):**
```css
#about-section .about-item-center {
  transform: translateX(0);
  opacity: 1;
  z-index: 10;
}

#about-section .about-item-prev {
  transform: translateX(calc(-100% - 32px));
  opacity: 0.4;
  filter: blur(2px);
  z-index: 5;
}

#about-section .about-item-next {
  transform: translateX(calc(100% + 32px));
  opacity: 0.4;
  filter: blur(2px);
  z-index: 5;
}
```

**Animation State - Navigating Right:**
```css
#about-section .about-item[data-animating="true"][data-direction="right"] .about-item-center {
  transform: translateX(-100%);
  transition: transform 600ms cubic-bezier(0.16, 1, 0.3, 1);
}

#about-section .about-item[data-animating="true"][data-direction="right"] .about-item-next {
  transform: translateX(0);
  transition: transform 600ms cubic-bezier(0.16, 1, 0.3, 1);
}
```

**Animation State - Navigating Left:**
```css
#about-section .about-item[data-animating="true"][data-direction="left"] .about-item-center {
  transform: translateX(100%);
  transition: transform 600ms cubic-bezier(0.16, 1, 0.3, 1);
}

#about-section .about-item[data-animating="true"][data-direction="left"] .about-item-prev {
  transform: translateX(0);
  transition: transform 600ms cubic-bezier(0.16, 1, 0.3, 1);
}
```

#### 2.4 Responsive Design

**Desktop (≥1024px):**
- Show peek of previous and next items
- Smooth sliding with peek effect visible throughout animation
- Items should overlap slightly during transition

**Mobile (<768px):**
- Single item visible at a time
- No peek effect
- Full-width sliding animation
- Continue supporting touch/swipe

#### 2.5 Accessibility - Reduced Motion
```css
@media (prefers-reduced-motion: reduce) {
  #about-section .about-item {
    transition: transform 0ms, opacity 0ms !important;
  }
}
```

---

## Animation Flow Diagram

### When Clicking Right Arrow:
```
Before Click:
[Prev] [Current] [Next]
   25%     50%      25%

During Animation (0-600ms):
[Prev] → [Current →] [Next → Current Position]
                   ↑
              Slides in from right

After Animation:
[Prev] [Current] [Next]
   25%     50%      25%
   (New items)
```

### When Clicking Left Arrow:
```
Before Click:
[Prev] [Current] [Next]
   25%     50%      25%

During Animation (0-600ms):
[Prev → Current Position] [Current →] [Next]
         ↑
    Slides in from left

After Animation:
[Prev] [Current] [Next]
   25%     50%      25%
   (New items)
```

---

## Implementation Steps

### Step 1: Update Home.jsx
1. Add `aboutAnimating` state
2. Modify `goToAboutSlide()` to handle animation direction
3. Add `useEffect` to reset animation state after timeout
4. Update render to pass animation props to items
5. Ensure keyboard accessibility is maintained

### Step 2: Update index.css
1. Rewrite carousel item positioning to use absolute positioning
2. Create smooth slide animations with cubic-bezier easing
3. Add animation state CSS selectors
4. Maintain responsive behavior
5. Add reduced motion support

### Step 3: Testing
1. Test left/right arrow navigation
2. Test keyboard navigation (arrow keys)
3. Test touch/swipe on mobile
4. Verify animation smoothness
5. Check reduced motion preference
6. Test on multiple screen sizes

---

## CSS Animation Details

### Easing Function
```css
/* cubic-bezier(0.16, 1, 0.3, 1) - Smooth ease-out */
transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
```

### Duration
- Animation: 600ms (within 500-700ms range)
